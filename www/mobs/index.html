<!doctype html>
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- CSS -->
	<script src="/js/js.cookie.min.js"></script>
	<noscript><link id="theme" rel="stylesheet" href="/css/bootstrap-light.min.css?%%version%%"></noscript>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
	crossorigin="anonymous">


	<title>LegendHUB - Mobs</title>
</head>

<body ng-app="legendwiki-app" ng-controller="mobs">
	<lh-header></lh-header>
	<div class="container-fluid">
		<div class="px-0">
			<div class="row">
				<div class="categoryListContainer col-md-3 col-lg-2 border-right" ng-class="{active: categoryActive}">
					<h2>Areas <button class="btn btn-outline-danger float-right d-block d-md-none" type="button" ng-click="categoryActive = false"><i class="fas fa-times"></i></button></h2>
					<ul class="categoryList">
						<li ng-repeat="category in catService.categories" ng-cloak>
							<a ng-class="{'text-primary font-weight-bold': category.Id == catService.getCategoryId() && !catService.hasSelectedSubcategory(), 'text-secondary': category.Id != catService.getCategoryId() || catService.hasSelectedSubcategory()}" ng-href="{{getSearchUrl(category.Id, -1)}}">{{category.Name}}</a>
							<ul ng-if="category.Id == catService.getCategoryId()">
								<li ng-repeat="subcategory in catService.getFilteredSubcategories()">
									<a ng-class="{'text-primary font-weight-bold': subcategory.Id == catService.getSubcategoryId(), 'text-secondary': subcategory.Id != catService.getSubcategoryId()}" ng-href="{{getSearchUrl(category.Id, subcategory.Id)}}">{{subcategory.Name}}</a>
								</li>
							</ul>
						</li>
					</ul>
				</div>
				<div class="col-12 col-md-9 col-lg-10">
					<div class="row text-center">
						<h1 class="col-12">Mobs</h1>
					</div>
					<div class="px-0 px-md-5" ng-cloak>
						<form ng-submit="onSearchClicked()">
							<div class="row">
								<span class="text-danger" ng-show="searchError != ''">{{searchError}}</span>
							</div>
							<div class="row">
								<div class="input-group col-12">
									<div class="input-group-prepend d-block d-md-none">
										<button class="btn btn-outline-primary" type="button" ng-click="categoryActive = true">&nbsp;<i class="fas fa-caret-right"></i>&nbsp;
									</div>
									<div class="input-group-prepend" ng-if="catService.getActiveCategory()">
										<button class="btn btn-outline-primary" type="button" ng-click="catService.clearSelectedCategories()">{{catService.getActiveCategory()}}&nbsp;&nbsp;<i class="fas fa-times"></i></button>
									</div>
									<input type="text" ng-model="searchString" class="form-control" placeholder="Search by name..." lh-autofocus>
									<div class="input-group-append">
										<button class="btn btn-outline-success" type="submit"><span class="d-none d-md-inline-block">Search</span><i class="d-inline-block d-md-none fas fa-search"></i></button>
									</div>
								</div>
							</div>
						</form>
					</div>
					<br />
					<div class="row" ng-show="resultWarning != ''" ng-cloak>
						<span class="text-danger">{{resultWarning}}</span>
					</div>
					<div class="row" ng-cloak>
						<div class="col-12">
							<div class="card">
								<div class="card-header">
									<strong class="float-left">{{recent ? "Recently Modified" : "Search Results"}}</strong>
									<lh-perm-check lh-perm-name="Item" lh-perm-create class="float-right clickable" ng-cloak>
										<a href="/mobs/add.html">
											<i class="fas fa-plus"></i>
										</a>
									</lh-perm-check>
									<lh-perm-check lh-perm-name="Item" lh-perm-create lh-perm-inverse class="float-right clickable" ng-cloak>
										<a href="/login.html?returnUrl=/mobs/add.html">
											<i class="fas fa-plus"></i>
										</a>
									</lh-perm-check>
								</div>
								<div class="table-responsive">
									<table class="table table-sm table-md table-hover table-striped table-bordered" ng-cloak>
										<thead class="thead-dark">
											<tr>
												<th scope="col" class="text-center" ng-click="onColumnHeaderClicked('ModifiedBy')" nowrap ng-if="recent">Modified By&nbsp;<i ng-class="sortClass('ModifiedBy')"></i></th>
												<th scope="col" class="text-center"ng-click="onColumnHeaderClicked('Name')" nowrap>Name&nbsp;<i ng-class="sortClass('Name')"></i></th>
												<th scope="col" class="text-center"ng-click="onColumnHeaderClicked('AreaName')" nowrap>Area&nbsp;<i ng-class="sortClass('AreaName')"></i></th>
												<th scope="col" class="text-center"ng-click="onColumnHeaderClicked('Xp')" nowrap>Experience&nbsp;<i ng-class="sortClass('Xp')"></i></th>
												<th scope="col" class="text-center"ng-click="onColumnHeaderClicked('Gold')" nowrap>Gold&nbsp;<i ng-class="sortClass('Gold')"></i></th>
												<th scope="col" class="text-center"ng-click="onColumnHeaderClicked('Aggro')" nowrap>Agg&nbsp;<i ng-class="sortClass('Aggro')"></i></th>
											</tr>
										</thead>
										<tbody>
											<tr ng-repeat="mob in mobs | orderBy:sortProperty:sortReverse | limitTo : 20 : 20 * (currentPage - 1)" ng-click="onMobClicked(mob)" style="cursor: pointer;">
												<td ng-if="recent" class="text-center">{{mob.ModifiedBy}}</td>
												<th scope="row" class="text-primary">{{mob.Name}}</th>
												<td><span class="text-info">{{mob.AreaEra ? '(' + mob.AreaEra + ')' : ''}}</span> {{mob.AreaName}}</td>
												<td class="text-center">{{mob.Xp}}</td>
												<td class="text-center">{{mob.Gold}}</td>
												<td class="text-center">
													<i class="{{mob.Aggro == 1 ? 'text-success fas fa-check' : 'text-danger fas fa-times'}}"></i>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
					<br />
                    <div class="row">
					    <nav class="col-12" aria-label="Mob result navigation" ng-show="totalPages > 1">
						    <ul class="pagination">
							    <li class="page-item">
								    <a class="page-link" ng-click="onPreviousClicked()" href aria-label="Previous">
									    <span aria-hidden="true">
										    <i class="fas fa-chevron-left"></i>
									    </span>
									    <span class="sr-only">Previous</span>
								    </a>
							    </li>
							    <li class="page-item" ng-repeat="i in getPageArray(totalPages) track by $index" ng-class="{active: i == currentPage}">
								    <a class="page-link" ng-click="onPageClicked(i)" href>{{i}}</a>
							    </li>
							    <li class="page-item">
								    <a class="page-link" ng-click="onNextClicked()" href aria-label="Next">
									    <span aria-hidden="true">
										    <i class="fas fa-chevron-right"></i>
									    </span>
									    <span class="sr-only">Next</span>
								    </a>
							    </li>
						    </ul>
					    </nav>
                    </div>
				</div>
			</div>
		</div>
	</div>

	<lh-footer></lh-footer>

	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
	    crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
	    crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
		crossorigin="anonymous"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.10/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.10/angular-cookies.min.js"></script>
	<script src="/js/apps/legendwiki-app.js?%%version%%"></script>
	<script src="/js/controllers/mobs/main.js?%%version%%"></script>
</body>

</html>
